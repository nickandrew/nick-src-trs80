;Cat: List a file in the tree
;
	ORG	5300H
*GET	FILSYS
;
START	LD	SP,5300H
	CALL	FS_INIT
	JP	NZ,FS_DOS_ERROR
	LD	A,(HL)
	CP	0DH
	JP	Z,FS_DOS
	CALL	FS_TERMINATE
	LD	DE,FCB
	LD	HL,BUF
	LD	B,0
	CALL	FS_OPEN_EX
	JP	NZ,FS_DOS_ERROR
LOOP
	LD	DE,FCB
	CALL	ROM@GET
	JP	NZ,END_LOOP
	CALL	33H
	JR	LOOP
;
END_LOOP
	CP	1CH
	JP	Z,FS_DOS
	CP	1DH
	JP	Z,FS_DOS
	JP	FS_DOS_ERROR
;
FCB	DEFS	32
BUF	DEFS	256
;
	END	START
