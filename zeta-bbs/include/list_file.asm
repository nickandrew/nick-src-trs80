;
;List: List a file to DCB_2O, allow abort with ^C
LIST_FILE
	LD	DE,_L_DCB
	CALL	EXTRACT
	LD	HL,_L_BUFF
	LD	B,0
	CALL	DOS_OPEN_EX
	RET	NZ
_L_LP	LD	DE,_L_DCB
	CALL	$GET
	JR	Z,_L_NE
	CP	1CH
	RET	Z
	CP	1DH
	RET
_L_NE	OR	A
	RET	Z
	LD	DE,DCB_2O
	CALL	$PUT
	CALL	$GET
	CP	1
	JR	NZ,_L_LP
	LD	A,CR
	LD	DE,DCB_2O
	CALL	$PUT
	RET
;
_L_DCB	DEFS	32
_L_BUFF	DEFS	256
;
